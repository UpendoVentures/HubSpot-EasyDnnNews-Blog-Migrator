(function(){"use strict";var e={5128:function(e,n,t){var o=t(9242),a=t(3396);function i(e,n){const t=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(t)])}var r=t(89);const s={},c=(0,r.Z)(s,[["render",i]]);var l=c,u=(t(8858),t(1318),t(3228),t(4161));const d=["/details","/about"];new URL(window.location.href);function p(e){let n=e;return d.forEach((e=>{n.endsWith(e)&&(n=n.slice(0,-e.length))})),n}function f(e){const n=new URL(window.location.href);return`${n.origin}/API/UpendoVentures.Modules.HubSpotEasyDnnNewsBlogMigrator/${e}`}function w(e){const n=`; ${document.cookie}`,t=n.split(`; ${e}=`);return 2===t.length?t.pop().split(";").shift():""}var v=`${f("Hubspot")}`;function m(){const e=window?.$?.ServicesFramework?.();return e?.getAntiForgeryValue()||""}function g(e,n,t){const o=new URL(window.location.href);b(e,`${o.origin}/API/UpendoVentures.Modules.HubSpotEasyDnnNewsBlogMigrator/Resx/GetResx?filename=${n}`,void 0,void 0,t)}async function h(e,n,t="get",o=null,a=null){const i=`${v}/${n}`;let r={"Content-Type":"application/json",moduleid:e.moduleId,tabid:e.tabId,RequestVerificationToken:e.rvt};a&&(r.AccessToken=a);let s={method:t,url:i,headers:r,withCredentials:!0};o&&(s.data=o);try{const e=await(0,u.Z)(s);if(200===e.status)return e.data}catch(c){console.log(c)}}function b(e,n,t,o,a){let i={method:"GET",headers:{"Content-Type":"application/json",moduleid:e.moduleId,tabid:e.tabId,RequestVerificationToken:m()},body:o?JSON.stringify(o):null,credentials:"include"};t&&(i={...i,...t});const r=new Request(n);fetch(r,i).then((e=>200===e.status?e.json():null)).then((e=>{"function"===typeof a&&a("string"===typeof e?JSON.parse(e):e)}))}var y=t(2483),_=t(7139),S=t(4870);const U={class:"card"},k={class:"card-body custom-module"},C={class:"text-center"},I={class:"card-title"},O={class:"dnnFormItem"},A={for:"clientId",class:"dnnLabel"},R={class:"dnnFormItem"},x={for:"clientSecret",class:"dnnLabel"},z={class:"dnnFormItem"},H={for:"redirectUri",class:"dnnLabel"},L={class:"dnnFormItem"},M={for:"scope",class:"dnnLabel"},q={class:"dnnActions dnnClear dnnRight"},F={type:"submit",class:"dnnPrimaryAction"};var P={__name:"HubSpotSettings",setup(e){const n=(0,a.f3)("dnnConfig"),t=(0,a.f3)("resx");let i=(0,S.iH)(""),r=(0,S.iH)(""),s=(0,S.iH)(""),c=(0,S.iH)("");const l=w("access_token"),u=async()=>{const e=await h(n,"GetSettings","get",null,l);e&&(i.value=e.ClientId,r.value=e.ClientSecret,s.value=e.RedirectUri,c.value=e.Scope)},d=async e=>{e.preventDefault();const t={ClientId:i,ClientSecret:r,RedirectUri:s,Scope:c},o=await h(n,"UpdateSettings","post",t);console.log(o)};return u(),(e,n)=>((0,a.wg)(),(0,a.iD)("div",U,[(0,a._)("div",k,[(0,a._)("div",C,[(0,a._)("h5",I,(0,_.zw)((0,S.SU)(t).HubSpotSettings),1)]),(0,a._)("form",{onSubmit:d,class:"dnnForm"},[(0,a._)("div",O,[(0,a._)("label",A,(0,_.zw)((0,S.SU)(t).ClientID),1),(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>(0,S.dq)(i)?i.value=e:i=e),type:"password",id:"clientId",class:"dnnFormInput",required:""},null,512),[[o.nr,(0,S.SU)(i)]])]),(0,a._)("div",R,[(0,a._)("label",x,(0,_.zw)((0,S.SU)(t).ClientSecret),1),(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":n[1]||(n[1]=e=>(0,S.dq)(r)?r.value=e:r=e),type:"password",id:"clientSecret",class:"dnnFormInput",required:""},null,512),[[o.nr,(0,S.SU)(r)]])]),(0,a._)("div",z,[(0,a._)("label",H,(0,_.zw)((0,S.SU)(t).RedirectURI),1),(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":n[2]||(n[2]=e=>(0,S.dq)(s)?s.value=e:s=e),type:"text",id:"redirectUri",class:"dnnFormInput",required:""},null,512),[[o.nr,(0,S.SU)(s)]])]),(0,a._)("div",L,[(0,a._)("label",M,(0,_.zw)((0,S.SU)(t).Scope),1),(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":n[3]||(n[3]=e=>(0,S.dq)(c)?c.value=e:c=e),type:"text",id:"scope",class:"dnnFormInput",required:""},null,512),[[o.nr,(0,S.SU)(c)]])]),(0,a._)("div",q,[(0,a._)("button",F,(0,_.zw)((0,S.SU)(t).Save),1)])],32)])]))}};const T=P;var $=T;const D={class:"container"},j={class:"col-8"},V={class:"card"},B={class:"card-body"},E={class:"card-title"},N={class:"card-text"},W={key:0},G={class:"dnnActions dnnClear"},J={key:1},Z={class:"card-text"},Q={key:0,class:"dnnFormMessage dnnFormSuccess col-6"},K={class:"dnnActions dnnClear"},X={class:"col-4 mx-2"};var Y={__name:"HomeItem",setup(e){const n=(0,a.f3)("resx"),t=(0,a.f3)("dnnConfig"),o=(0,S.iH)([]),i=(0,S.iH)(""),r=(0,S.iH)(!1),s=(0,S.iH)(0),c=w("access_token"),l=async()=>{const e=new URL(window.location.href),n=new URLSearchParams(e.search),o=n.get("code");if(o){const e=await h(t,"OAuthCallback","post",o,c);null!=e.access_token&&(document.cookie=`access_token=${e.access_token}; path=/`);const n=new URL(window.location.href);window.location.href=n.origin+n.pathname}},u=async()=>{const e=await h(t,"GetBlogPosts","get",null,c);e&&("error"==e.Status&&(r.value=!0,i.value=e.Message),o.value=e)};async function d(){var e=await h(t,"InitiateOAuth");window.open(e,"_blank")}async function p(){const e=await h(t,"MigratePosts","get",null,c);e&&(console.log(e),s.value=e)}return l(),u(),(e,t)=>((0,a.wg)(),(0,a.iD)("div",D,[(0,a._)("div",j,[(0,a._)("div",V,[(0,a._)("div",B,[(0,a._)("h5",E,(0,_.zw)((0,S.SU)(n).Welcome),1),(0,a._)("p",N,(0,_.zw)(i.value),1),r.value?((0,a.wg)(),(0,a.iD)("span",W,[(0,a._)("ul",G,[(0,a._)("li",null,[(0,a._)("a",{class:"dnnPrimaryAction",onClick:t[0]||(t[0]=e=>d())},(0,_.zw)((0,S.SU)(n).LogHubspot),1)])])])):(0,a.kq)("",!0),r.value?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("span",J,[(0,a._)("p",Z,(0,_.zw)((0,S.SU)(n).ThereAreTotalOf)+" "+(0,_.zw)(o.value.Total)+" "+(0,_.zw)((0,S.SU)(n).PostsOnHubSpot),1),s.value?((0,a.wg)(),(0,a.iD)("div",Q,(0,_.zw)((0,S.SU)(n).ATotalOf)+" "+(0,_.zw)(s.value)+" "+(0,_.zw)((0,S.SU)(n).WereMigratedSuccessfully),1)):(0,a.kq)("",!0),(0,a._)("ul",K,[(0,a._)("li",null,[(0,a._)("a",{class:"dnnPrimaryAction",onClick:t[1]||(t[1]=e=>p())},(0,_.zw)((0,S.SU)(n).MigratePosts),1)])])]))])])]),(0,a._)("div",X,[(0,a.Wm)($)])]))}};const ee=Y;var ne=ee;const te=new URL(window.location.href),oe=te.pathname,ae=[{path:p(oe),component:ne},{path:"/:pathMatch(.*)*",redirect:p(oe)}],ie=(0,y.p7)({history:(0,y.PO)(),routes:ae});var re=ie,se=t(65),ce=(0,se.MT)({state:{},mutations:{},actions:{},modules:{}});const le=document.getElementsByClassName("appModule"),ue=(0,o.ri)(l);function de(e,n){return new Promise((t=>{g(e,n,t)}))}ue.use(re),ue.use(ce),ue.config.devtools=!0,document.addEventListener("DOMContentLoaded",(function(){for(var e=0;e<le.length;e++){const n=le[e],t={tabId:Number(n.getAttribute("data-tabid")),moduleId:Number(n.getAttribute("data-moduleid")),editMode:"true"===n.getAttribute("data-editmode").toLowerCase(),apiBaseUrl:n.getAttribute("data-apibaseurl"),rvt:m()};void 0===window.dtCallBacks&&(window.dtCallBacks=[]),de(t,"View").then((e=>{ue.provide("dnnConfig",t),ue.provide("resx",e),ue.provide("window",window),ue.provide("jQuery",window.$),ue.mount(`#${n.id}`)})).catch((e=>{console.log(e)}))}}))}},n={};function t(o){var a=n[o];if(void 0!==a)return a.exports;var i=n[o]={exports:{}};return e[o].call(i.exports,i,i.exports,t),i.exports}t.m=e,function(){var e=[];t.O=function(n,o,a,i){if(!o){var r=1/0;for(u=0;u<e.length;u++){o=e[u][0],a=e[u][1],i=e[u][2];for(var s=!0,c=0;c<o.length;c++)(!1&i||r>=i)&&Object.keys(t.O).every((function(e){return t.O[e](o[c])}))?o.splice(c--,1):(s=!1,i<r&&(r=i));if(s){e.splice(u--,1);var l=a();void 0!==l&&(n=l)}}return n}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[o,a,i]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,o){var a,i,r=o[0],s=o[1],c=o[2],l=0;if(r.some((function(n){return 0!==e[n]}))){for(a in s)t.o(s,a)&&(t.m[a]=s[a]);if(c)var u=c(t)}for(n&&n(o);l<r.length;l++)i=r[l],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(u)},o=self["webpackChunkclient_app"]=self["webpackChunkclient_app"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(5128)}));o=t.O(o)})();
//# sourceMappingURL=app.js.map