(function(){"use strict";var n={2489:function(n,t,e){var o=e(9242),i=e(3396);function a(n,t){const e=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(e)])}var r=e(89);const c={},s=(0,r.Z)(c,[["render",a]]);var u=s,l=(e(8858),e(1318),e(3228),e(4161));const d=["/details","/about"];new URL(window.location.href);function f(n){let t=n;return d.forEach((n=>{t.endsWith(n)&&(t=t.slice(0,-n.length))})),t}function p(n){const t=new URL(window.location.href);return`${t.origin}/API/UpendoVentures.Modules.HubSpotEasyDnnNewsBlogMigrator/${n}`}function w(n){const t=`; ${document.cookie}`,e=t.split(`; ${n}=`);return 2===e.length?e.pop().split(";").shift():""}var h=`${p("Hubspot")}`;function v(){const n=window?.$?.ServicesFramework?.();return n?.getAntiForgeryValue()||""}function g(n,t,e){const o=new URL(window.location.href);b(n,`${o.origin}/API/UpendoVentures.Modules.HubSpotEasyDnnNewsBlogMigrator/Resx/GetResx?filename=${t}`,void 0,void 0,e)}async function m(n,t,e="get",o=null,i=null){const a=`${h}/${t}`;let r={"Content-Type":"application/json",moduleid:n.moduleId,tabid:n.tabId,RequestVerificationToken:n.rvt};i&&(r.AccessToken=i);let c={method:e,url:a,headers:r,withCredentials:!0};o&&(c.data=o);try{const n=await(0,l.Z)(c);if(200===n.status)return n.data}catch(s){console.log(s)}}function b(n,t,e,o,i){let a={method:"GET",headers:{"Content-Type":"application/json",moduleid:n.moduleId,tabid:n.tabId,RequestVerificationToken:v()},body:o?JSON.stringify(o):null,credentials:"include"};e&&(a={...a,...e});const r=new Request(t);fetch(r,a).then((n=>200===n.status?n.json():null)).then((n=>{"function"===typeof i&&i("string"===typeof n?JSON.parse(n):n)}))}var y=e(2483),k=e(7139),_=e(4870);const C={class:"mx-3"},O={class:"text-center"},A={class:"dnnActions dnnClear"},U={class:"dnnActions dnnClear"},P={class:"dnnActions dnnClear"};var R={__name:"HomeItem",setup(n){const t=(0,i.f3)("resx"),e=(0,i.f3)("dnnConfig"),o=(0,_.iH)([]),a=w("access_token"),r=async()=>{const n=new URL(window.location.href),t=new URLSearchParams(n.search),o=t.get("code");if(o){const n=await m(e,"OAuthCallback","post",o,a);console.log("result",n),null!=n.access_token&&(document.cookie=`access_token=${n.access_token}; path=/`);const t=new URL(window.location.href);window.location.href=t.origin+t.pathname}},c=async()=>{const n=await m(e,"GetBlogPosts","get",null,a);n&&(o.value=n)},s=async()=>{const n=await m(e,"GetSettings","get",null,a);n&&(o.value=n)},u=async()=>{var n={ClientId:"e7d75ea8-f8d6-416e-9817-7e3a00b00b82",ClientSecret:"cd7713a0-14ce-4a9d-87a5-3c156caf3f6f",RedirectUri:"https://localhost.dnndev.me/hubspot",Scope:"content"};const t=await m(e,"UpdateSettings","post",n);t&&c()};async function l(){var n=await m(e,"InitiateOAuth");window.open(n,"_blank")}async function d(){const n=await m(e,"MigratePosts","get",null,a);n&&(o.value=n)}return r(),c(),s(),(n,e)=>((0,i.wg)(),(0,i.iD)("div",C,[(0,i._)("div",O,[(0,i._)("h2",null,(0,k.zw)((0,_.SU)(t).Welcome),1),(0,i._)("ul",A,[(0,i._)("li",null,[(0,i._)("a",{class:"dnnPrimaryAction",onClick:e[0]||(e[0]=n=>d())},"Migrate Posts")])]),(0,i._)("ul",U,[(0,i._)("li",null,[(0,i._)("a",{class:"dnnPrimaryAction",onClick:e[1]||(e[1]=n=>u())},"Update Settings")])]),(0,i._)("ul",P,[(0,i._)("li",null,[(0,i._)("a",{class:"dnnPrimaryAction",onClick:e[2]||(e[2]=n=>l())},"Initiate OAuth")])])])]))}};const $=R;var I=$;const M=new URL(window.location.href),S=M.pathname,x=[{path:f(S),component:I},{path:"/:pathMatch(.*)*",redirect:f(S)}],j=(0,y.p7)({history:(0,y.PO)(),routes:x});var L=j,T=e(65),B=(0,T.MT)({state:{},mutations:{},actions:{},modules:{}});const E=document.getElementsByClassName("appModule"),N=(0,o.ri)(u);function V(n,t){return new Promise((e=>{g(n,t,e)}))}N.use(L),N.use(B),N.config.devtools=!0,document.addEventListener("DOMContentLoaded",(function(){for(var n=0;n<E.length;n++){const t=E[n],e={tabId:Number(t.getAttribute("data-tabid")),moduleId:Number(t.getAttribute("data-moduleid")),editMode:"true"===t.getAttribute("data-editmode").toLowerCase(),apiBaseUrl:t.getAttribute("data-apibaseurl"),rvt:v()};void 0===window.dtCallBacks&&(window.dtCallBacks=[]),V(e,"View").then((n=>{N.provide("dnnConfig",e),N.provide("resx",n),N.provide("window",window),N.provide("jQuery",window.$),N.mount(`#${t.id}`)})).catch((n=>{console.log(n)}))}}))}},t={};function e(o){var i=t[o];if(void 0!==i)return i.exports;var a=t[o]={exports:{}};return n[o].call(a.exports,a,a.exports,e),a.exports}e.m=n,function(){var n=[];e.O=function(t,o,i,a){if(!o){var r=1/0;for(l=0;l<n.length;l++){o=n[l][0],i=n[l][1],a=n[l][2];for(var c=!0,s=0;s<o.length;s++)(!1&a||r>=a)&&Object.keys(e.O).every((function(n){return e.O[n](o[s])}))?o.splice(s--,1):(c=!1,a<r&&(r=a));if(c){n.splice(l--,1);var u=i();void 0!==u&&(t=u)}}return t}a=a||0;for(var l=n.length;l>0&&n[l-1][2]>a;l--)n[l]=n[l-1];n[l]=[o,i,a]}}(),function(){e.n=function(n){var t=n&&n.__esModule?function(){return n["default"]}:function(){return n};return e.d(t,{a:t}),t}}(),function(){e.d=function(n,t){for(var o in t)e.o(t,o)&&!e.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:t[o]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"===typeof window)return window}}()}(),function(){e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)}}(),function(){var n={143:0};e.O.j=function(t){return 0===n[t]};var t=function(t,o){var i,a,r=o[0],c=o[1],s=o[2],u=0;if(r.some((function(t){return 0!==n[t]}))){for(i in c)e.o(c,i)&&(e.m[i]=c[i]);if(s)var l=s(e)}for(t&&t(o);u<r.length;u++)a=r[u],e.o(n,a)&&n[a]&&n[a][0](),n[a]=0;return e.O(l)},o=self["webpackChunkclient_app"]=self["webpackChunkclient_app"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=e.O(void 0,[998],(function(){return e(2489)}));o=e.O(o)})();
//# sourceMappingURL=app.js.map